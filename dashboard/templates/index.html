{% extends "base.html" %}
{% load static %}

{% block page_title %}Sayfa Başlığı{% endblock %}

{% block css_files %}
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css">
<style>
    .card-container {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }
    .card {
        border: none;
        border-radius: 8px;
        padding: 20px;
        text-align: center;
        margin-bottom: 20px;
        color: white;
    }
    .card.visitors {
        background-color: #007bff;
    }
    .card.subscribers {
        background-color: #17a2b8;
    }
    .card.sales {
        background-color: #28a745;
    }
    .card.orders {
        background-color: #6f42c1;
    }
    .card-icon img {
        width: 50px;
        height: 50px;
    }
    .card-title {
        font-size: 18px;
        margin-top: 10px;
    }
    .card-value {
        font-size: 24px;
        font-weight: bold;
        margin-top: 10px;
    }
    .update-date {
        text-align: left;
        margin-bottom: 10px;
        font-style: italic;
        color: #6c757d;
    }
    .table-container {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }
    table th, table td {
        padding: 10px;
        border: 1px solid #dee2e6;
        text-align: left;
    }
    table th {
        background-color: #ffffff;
        color: #000000;
        font-weight: bold;
    }
    table tbody tr:nth-child(odd) {
        background-color: #f2f2f2;
    }
    table tbody tr:nth-child(even) {
        background-color: #ffffff;
    }
</style>
{% endblock css_files %}

{% block content %}
<div class="container card-container">
    <div class="row">
        <div class="col-md-3">
            <div class="card visitors">
                <div class="card-icon">
                    <img src="{% static "img/oto_icon.png" %}" alt="Icon">
                </div>
                <div class="card-title">Trafik Net Adet</div>
                <div class="card-value" data-target="1134">0</div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card subscribers">
                <div class="card-icon">
                    <img src="{% static "img/general_icon.png" %}" alt="Icon">
                </div>
                <div class="card-title">Trafik Net Prim</div>
                <div class="card-value" data-target="6515342.91">0</div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card sales">
                <div class="card-icon">
                    <img src="{% static "img/oto_icon.png" %}" alt="Icon">
                </div>
                <div class="card-title">Genel Net Adet</div>
                <div class="card-value" data-target="1249">0</div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card orders">
                <div class="card-icon">
                    <img src="{% static "img/oto_icon.png" %}" alt="Icon">
                </div>
                <div class="card-title">Genel Net Prim</div>
                <div class="card-value" data-target="6575971.17">0</div>
            </div>
        </div>
    </div>
</div>

<div class="container table-container">
    <div class="update-date">Güncellenme Tarihi: {{ last_updated_date }}</div>
    <table id="data-table" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Ad</th>
                <th>Pozisyon</th>
                <th>Ofis</th>
                <th>Yaş</th>
                <th>Başlama Tarihi</th>
                <th>Maaş</th>
            </tr>
            <tr>
                <th><select class="form-select"><option value="">Hepsi</option></select></th>
                <th><select class="form-select"><option value="">Hepsi</option></select></th>
                <th><select class="form-select"><option value="">Hepsi</option></select></th>
                <th><select class="form-select"><option value="">Hepsi</option></select></th>
                <th><select class="form-select"><option value="">Hepsi</option></select></th>
                <th><select class="form-select"><option value="">Hepsi</option></select></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Airi Satou</td>
                <td>Muhasebeci</td>
                <td>Tokyo</td>
                <td>33</td>
                <td>2008/11/28</td>
                <td>$162,700</td>
            </tr>
            <tr>
                <td>Angelica Ramos</td>
                <td>CEO</td>
                <td>Londra</td>
                <td>47</td>
                <td>2009/10/09</td>
                <td>$1,200,000</td>
            </tr>
            <tr>
                <td>Ashton Cox</td>
                <td>Teknik Yazar</td>
                <td>San Francisco</td>
                <td>66</td>
                <td>2009/01/12</td>
                <td>$86,000</td>
            </tr>
            <tr>
                <td>Bradley Greer</td>
                <td>Yazılım Mühendisi</td>
                <td>Londra</td>
                <td>41</td>
                <td>2012/10/13</td>
                <td>$132,000</td>
            </tr>
            <tr>
                <td>Brenden Wagner</td>
                <td>Yazılım Mühendisi</td>
                <td>San Francisco</td>
                <td>28</td>
                <td>2011/06/07</td>
                <td>$206,850</td>
            </tr>
        </tbody>
    </table>
</div>
{% endblock content %}

{% block js_files %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<script>
    $(document).ready(function() {
        $('#data-table').DataTable();

        // Populate select options for each column filter
        $('#data-table thead tr:eq(1) th').each(function(i) {
            var column = $('#data-table').DataTable().column(i);
            var select = $('select', this);

            column.data().unique().sort().each(function(d, j) {
                select.append('<option value="'+d+'">'+d+'</option>')
            });

            select.on('change', function() {
                var val = $.fn.dataTable.util.escapeRegex($(this).val());
                column.search(val ? '^'+val+'$' : '', true, false).draw();
            });
        });
    });



</script>
{% endblock js_files %}
